Tree.prototype._getChildren = function(parentObject){//<-- необходимо переопределить
    var i, o;
    if (this.options.hasOwnProperty('getChildren'))
        return this.options.getChildren(parentObject ? parentObject.id : undefined);
    else if (this.options.hasOwnProperty('getChildrenUrl')){
        var sourcePath = this.options.getChildrenUrl(parentObject ? parentObject.id : undefined);
        var self = this;
        Traliva.ajax({
            sourcePath: sourcePath,
            readyFunc:function(result){
                var childrenObj = JSON.parse(result);
                if (parentObject){
                    for (i = 0 ; i < childrenObj.length ; i++){
                        childrenObj[i].parentId = parentObject.id;
                    }
                }
                var changes = {added:childrenObj};
                self._applyChanges(changes);
            }
        });
        return [];//
    }
    else{ // работаеи по свойству this._state.data
        var retVal;
        if (parentObject === undefined){
            if (this._state.hasOwnProperty('data') && this._state.data.length){
                retVal = this._state.data;
            }
            else
                return [];
        }
        else
            retVal = parentObject.chi;
        for (i = 0 ; i < retVal.length ; i++){
            o = retVal[i];
            o.hasChildren = (o.hasOwnProperty('chi') && o.chi.length) ? true : false;
        }
        return retVal;
    }

/*  if (parentObject === undefined)
        return [{id:111,name:"1 мсв",hasChildren:true,state:0}];
    else{
        if (parentObject.id == 111)
            return [
                {id:222,name:"1 мсо",hasChildren:true,state:1},
                {id:333,name:"2 мсо",hasChildren:false,state:0}
            ];
        if (parentObject.id == 222)
            return [
                {id:444,name:"1 солдат",hasChildren:false,state:0},
                {id:555,name:"2 солдат",hasChildren:false,state:0},
                {id:666,name:"3 солдат",hasChildren:false,state:3}
            ];
    }
    return [];*/
    /*
    Common options needed:
    - legend (icons for states)
    - if start update item data loop
    */
};
